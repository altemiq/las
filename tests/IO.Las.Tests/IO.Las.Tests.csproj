<Project Sdk="Microsoft.NET.Sdk">

  <PropertyGroup>
    <TargetFrameworks>net10.0;net9.0;net8.0</TargetFrameworks>
    <TargetFrameworks Condition=" '$(NetCoreOnly)' != 'true' ">$(TargetFrameworks);net472</TargetFrameworks>
    <MeziantouPolyfill_IncludedPolyfills>
      $(MeziantouPolyfill_IncludedPolyfills)|
      M:System.IO.Stream.ReadAsync(System.Memory{System.Byte},System.Threading.CancellationToken)|
    </MeziantouPolyfill_IncludedPolyfills>
  </PropertyGroup>

  <ItemGroup>
    <ProjectReference Include="..\..\src\IO.Las\IO.Las.csproj" />
  </ItemGroup>

  <ItemGroup>
    <EmbeddedResource Include="..\..\data\las\fusa.las" />
    <EmbeddedResource Include="**\*.las;**\*.bin" />
  </ItemGroup>

  <ItemGroup Condition=" '$(SupportLas12)' != 'true' ">
    <Compile Remove="**\*Color*.cs" />
  </ItemGroup>

  <ItemGroup Condition=" '$(SupportLas13)' != 'true' ">
    <Compile Remove="**\*Waveform*.cs" />
  </ItemGroup>

  <ItemGroup Condition=" '$(SupportLas14)' != 'true' ">
    <!-- Remove extended point data records for versions below 1.4 -->
    <Compile Remove="**\*Extended*Point*.cs" />
    <Compile Remove="**\PointConverterTests.cs" />

    <!-- remove new VLRs -->
    <Compile Remove="**\ExtendedVariableLengthRecord*.cs" />
    <Compile Remove="**\*ExtraBytes*.cs" />
  </ItemGroup>

</Project>